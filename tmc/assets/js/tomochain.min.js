!function(r){"use strict";var l=l||{},c=r(window),d=r("body"),e=(d.hasClass("rtl"),navigator.userAgent.toLowerCase());e.match(/(iphone|ipod|android|iemobile)/),e.match(/(iphone|ipod|ipad|android|iemobile)/),e.match(/(iphone|ipod|ipad)/),e.match(/(iemobile)/);l={init:function(){l.header(),l.mobileMenu(),l.video(),l.click(),l.TomoSlidesManual()},header:function(){if(0<r(".site-header").length){var e=r(".site-header").outerHeight();r(".site-header").css("min-height",e)}},mainMenu:function(){var e=r(".site-header:not(.sticky-header)"),t=r(".site-header.sticky-header"),a=e.find(".main-menu");t.hasClass("is-sticky")&&(a=t.find(".main-menu")),(a.length||a.find("ul.menu").length)&&a.find("ul.menu").superfish({delay:300,speed:300,speedOut:300,autoArrows:!1,dropShadows:!1,onBeforeShow:function(){r(this).removeClass("animated fast fadeOutDownSmall"),r(this).addClass("animated fast fadeInUpSmall")},onBeforeHide:function(){r(this).removeClass("animated fast fadeInUpSmall"),r(this).addClass("animated fast fadeOutDownSmall")}})},setTopValue:function(e){var t=r("#wpadminbar"),a=(c.width(),t.height()),n=a;if(t.length){var i=t[0].getBoundingClientRect().top;n=0-a<=i?a+i:0}e.closest(".sticky-header.is-sticky").length&&(n=0),e.css("top",n)},mobileMenu:function(){var n,i,t=r(".mobile-menu-btn"),o=r("#site-mobile-menu"),a=r(".site-mobile-menu-wrapper"),e=r("#content.site-content"),s=function(e,t){e<t?a.css("overflow-y","hidden"):a.css("overflow-y","auto")};void 0!==o&&void 0!==e&&(t.on("click",function(){r(this).toggleClass("is-active"),r("body").toggleClass("mobile-menu-opened"),l.setTopValue(a)}),e.on("click touchstart",function(e){r(e.target).closest(".mobile-menu-btn").length||d.hasClass("mobile-menu-opened")&&(d.removeClass("mobile-menu-opened"),t.removeClass("is-active"),o.find('#searchform input[type="text"]').blur(),e.preventDefault())}),s(o.height(),a.height())),n=0,i=a.height(),o.find("li:has(ul)").each(function(){var e=r(this),t=e.find("> a").clone();t.length&&(e.prepend('<span class="open-child">open</span>'),t.find(".menu-item-tag").remove(),e.find("> ul").prepend('<li class="menu-back">'+t.wrap("<div>").parent().html()+"</a></li>"))}),o.on("click",".open-child",function(){var e,t,a=r(this).parent();a.hasClass("over")?(a.removeClass("over"),0==--n&&s(o.height(),i)):(a.parent().find(">li.over").removeClass("over"),a.addClass("over"),n++,s((e=a.find(">.sub-menu"),t=0,e.find(">li").each(function(){t+=r(this).outerHeight()}),t),i)),o.parent().scrollTop(0)}),o.on("click",".menu-back",function(){var e=r(this).parent().parent();e.hasClass("over")&&(e.removeClass("over"),0==--n&&s(o.height(),i)),o.parent().scrollTop(0)}),o.on("click",".menu-back > a",function(e){e.preventDefault()}),c.on("resize",function(){l.setTopValue(a)})},video:function(){var e=r(".tmc-videos");e.length&&(e.flipster({style:"flat",spacing:-.45,keyboard:!1,scrollwheel:!1}),r(".tmc-video-item .video-link").magnificPopup({type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1}))},click:function(){if(0<r(".tmc-top-report").length){var e=r(".tmc-top-report").outerHeight();r(".tmc-top-report").find(".close").on("click",function(e){e.preventDefault(),r(this).closest(".tmc-top-report").hide(500)})}if(0<r(".tmc-tab-title").length&&(r(".tab-content").first().show(200),r(".tmc-tab-title").find("a").on("click",function(e){e.preventDefault(),r(".tmc-tab-title").find("li").removeClass("active"),r(this).parent().addClass("active");var t=r(this).attr("href");r(".tab-content").hide(200),r(t).show(200)})),0<r(".tmc-alpha-tab-filter").length){r(".tmc-tab-item").first().addClass("active");e=r(".tmc-alpha-tabs-wrap").outerHeight();r(".tmc-alpha-tabs-wrap").css("height",e+"px"),r(".tmc-tab-item").find("a").on("click",function(e){e.preventDefault();var t=r(this).attr("href");r(".tmc-tab-item").removeClass("active"),r(this).parent().addClass("active"),r(".tmc-alpha-tab-content").hide(500),r(this).closest(".tmc-alpha-tabs-wrap").find(t).show(500)})}},tomoMagic:function(){function e(e){var t=e[0].getTotalLength();e.css("stroke-dasharray",t),e.css("stroke-dashoffset",t)}var t=r("path#word"),a=r("path#dot");e(t),e(a);var n=new ScrollMagic.Controller,i=(new TimelineMax).add(TweenMax.to(t,.9,{strokeDashoffset:0,ease:Linear.easeNone})).add(TweenMax.to(a,.1,{strokeDashoffset:0,ease:Linear.easeNone})).add(TweenMax.to("path",1,{stroke:"#33629c",ease:Linear.easeNone}),0);new ScrollMagic.Scene({triggerElement:"#trigger1",duration:200,tweenChanges:!0}).setTween(i).addIndicators().addTo(n)},TomoSlidesManual:function(){var e=new ScrollMagic.Controller,t=(new TimelineMax).to("#slideContainer",.5,{z:-150}).to("#slideContainer",1,{x:"-25%"}).to("#slideContainer",.5,{z:0}).to("#slideContainer",.5,{z:-150,delay:1}).to("#slideContainer",1,{x:"-50%"}).to("#slideContainer",.5,{z:0}).to("#slideContainer",.5,{z:-150,delay:1}).to("#slideContainer",1,{x:"-75%"}).to("#slideContainer",.5,{z:0});new ScrollMagic.Scene({triggerElement:"#pinContainer",triggerHook:"onLeave",duration:"500%"}).setPin("#pinContainer").setTween(t).addIndicators().addTo(e)}},r(document).ready(function(){l.init()})}(jQuery);
//# sourceMappingURL=tomochain.min.js.map